z_worklp1:--z_worklp1
declare @t_noa nvarchar(50)
set @t_noa = [2]
declare @tmp table(
	gno nvarchar(10),
	noa nvarchar(50),
	datea nvarchar(10),
	tggno nvarchar(50),
	tggs nvarchar(90),
	bdate nvarchar(10),
	edate nvarchar(10),
	storeno nvarchar(50),
	stores nvarchar(90),
	storeinno nvarchar(50),
	storeins nvarchar(90),
	amemo nvarchar(max),
	cngno nvarchar(50),
	productno nvarchar(max),
	products nvarchar(max),
	unit nvarchar(15),
	mount float,
	bmemo nvarchar(max)
)
insert into @tmp
	select
		'0',a.noa,a.datea,a.tggno,a.tgg,a.bdate,a.edate,a.storeno,a.store,a.storeinno,a.storein,
		a.memo,a.cngno,b.productno,b.product,b.unit,b.mount,b.memo
	from view_workl a
	left join view_workls b on (a.noa=b.noa)
	where a.noa=@t_noa
insert into @tmp(gno,noa)
	select '1',noa from @tmp where gno='0' group by noa
select
	*
from @tmp order by noa,gno;